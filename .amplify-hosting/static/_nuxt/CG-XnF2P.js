import{r as x,i as y,e as I,q as k,N as H,f as U,g as re,k as Z,v as ne,x as q,F as X,A as se,z as ue,c as N,o as O,a as V,m as $,b as P,d as de,t as A,w as B,h as T,D as j,O as pe,j as ce,E as ve}from"./BBGXoVXL.js";import{A as M,a as K,k as me,o as h,e as b,m as S,l as fe,b as G,f as J,u as C,p as ge,n as ye,d as be,q as _e,r as he,h as Se,E as Oe,j as Ne,v as xe,O as He}from"./CJ8rfh6T.js";function Ye(e,r,n){let c=x(n?.value),i=y(()=>e.value!==void 0);return[y(()=>i.value?e.value:c.value),function(p){return i.value||(c.value=p),r?.(p)}]}var ee=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(ee||{});let We=I({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:r,attrs:n}){return()=>{var c;let{features:i,...p}=e,t={"aria-hidden":(i&2)===2?!0:(c=p["aria-hidden"])!=null?c:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return M({ourProps:t,theirProps:p,slot:{},attrs:n,slots:r,name:"Hidden"})}}});function te(e={},r=null,n=[]){for(let[c,i]of Object.entries(e))oe(n,ae(r,c),i);return n}function ae(e,r){return e?e+"["+r+"]":r}function oe(e,r,n){if(Array.isArray(n))for(let[c,i]of n.entries())oe(e,ae(r,c.toString()),i);else n instanceof Date?e.push([r,n.toISOString()]):typeof n=="boolean"?e.push([r,n?"1":"0"]):typeof n=="string"?e.push([r,n]):typeof n=="number"?e.push([r,`${n}`]):n==null?e.push([r,""]):te(n,r,e)}function Re(e,r){return e===r}var we=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(we||{}),Ce=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Ce||{}),Le=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Le||{});function De(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let ie=Symbol("ListboxContext");function F(e){let r=se(ie,null);if(r===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,F),n}return r}let Ee=I({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Re},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:r,attrs:n,emit:c}){let i=x(1),p=x(null),t=x(null),g=x(null),o=x([]),m=x(""),v=x(null),l=x(1);function u(a=s=>s){let s=v.value!==null?o.value[v.value]:null,d=He(a(o.value.slice()),_=>h(_.dataRef.domRef)),f=s?d.indexOf(s):null;return f===-1&&(f=null),{options:d,activeOptionIndex:f}}let W=y(()=>e.multiple?1:0),[R,Y]=Ye(y(()=>e.modelValue),a=>c("update:modelValue",a),y(()=>e.defaultValue)),L=y(()=>R.value===void 0?C(W.value,{1:[],0:void 0}):R.value),w={listboxState:i,value:L,mode:W,compare(a,s){if(typeof e.by=="string"){let d=e.by;return a?.[d]===s?.[d]}return e.by(a,s)},orientation:y(()=>e.horizontal?"horizontal":"vertical"),labelRef:p,buttonRef:t,optionsRef:g,disabled:y(()=>e.disabled),options:o,searchQuery:m,activeOptionIndex:v,activationTrigger:l,closeListbox(){e.disabled||i.value!==1&&(i.value=1,v.value=null)},openListbox(){e.disabled||i.value!==0&&(i.value=0)},goToOption(a,s,d){if(e.disabled||i.value===1)return;let f=u(),_=xe(a===S.Specific?{focus:S.Specific,id:s}:{focus:a},{resolveItems:()=>f.options,resolveActiveIndex:()=>f.activeOptionIndex,resolveId:E=>E.id,resolveDisabled:E=>E.dataRef.disabled});m.value="",v.value=_,l.value=d??1,o.value=f.options},search(a){if(e.disabled||i.value===1)return;let s=m.value!==""?0:1;m.value+=a.toLowerCase();let d=(v.value!==null?o.value.slice(v.value+s).concat(o.value.slice(0,v.value+s)):o.value).find(_=>_.dataRef.textValue.startsWith(m.value)&&!_.dataRef.disabled),f=d?o.value.indexOf(d):-1;f===-1||f===v.value||(v.value=f,l.value=1)},clearSearch(){e.disabled||i.value!==1&&m.value!==""&&(m.value="")},registerOption(a,s){let d=u(f=>[...f,{id:a,dataRef:s}]);o.value=d.options,v.value=d.activeOptionIndex},unregisterOption(a){let s=u(d=>{let f=d.findIndex(_=>_.id===a);return f!==-1&&d.splice(f,1),d});o.value=s.options,v.value=s.activeOptionIndex,l.value=1},theirOnChange(a){e.disabled||Y(a)},select(a){e.disabled||Y(C(W.value,{0:()=>a,1:()=>{let s=H(w.value.value).slice(),d=H(a),f=s.findIndex(_=>w.compare(d,H(_)));return f===-1?s.push(d):s.splice(f,1),s}}))}};be([t,g],(a,s)=>{var d;w.closeListbox(),_e(s,he.Loose)||(a.preventDefault(),(d=h(t))==null||d.focus())},y(()=>i.value===0)),ue(ie,w),Se(y(()=>C(i.value,{0:G.Open,1:G.Closed})));let D=y(()=>{var a;return(a=h(t))==null?void 0:a.closest("form")});return U(()=>{Z([D],()=>{if(!D.value||e.defaultValue===void 0)return;function a(){w.theirOnChange(e.defaultValue)}return D.value.addEventListener("reset",a),()=>{var s;(s=D.value)==null||s.removeEventListener("reset",a)}},{immediate:!0})}),()=>{let{name:a,modelValue:s,disabled:d,form:f,..._}=e,E={open:i.value===0,disabled:d,value:L.value};return q(X,[...a!=null&&L.value!=null?te({[a]:L.value}).map(([Q,le])=>q(We,Oe({features:ee.Hidden,key:Q,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:f,disabled:d,name:Q,value:le}))):[],M({ourProps:{},theirProps:{...n,...Ne(_,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:E,slots:r,attrs:n,name:"Listbox"})])}}}),ke=I({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:r,slots:n,expose:c}){var i;let p=(i=e.id)!=null?i:`headlessui-listbox-button-${K()}`,t=F("ListboxButton");c({el:t.buttonRef,$el:t.buttonRef});function g(l){switch(l.key){case b.Space:case b.Enter:case b.ArrowDown:l.preventDefault(),t.openListbox(),k(()=>{var u;(u=h(t.optionsRef))==null||u.focus({preventScroll:!0}),t.value.value||t.goToOption(S.First)});break;case b.ArrowUp:l.preventDefault(),t.openListbox(),k(()=>{var u;(u=h(t.optionsRef))==null||u.focus({preventScroll:!0}),t.value.value||t.goToOption(S.Last)});break}}function o(l){switch(l.key){case b.Space:l.preventDefault();break}}function m(l){t.disabled.value||(t.listboxState.value===0?(t.closeListbox(),k(()=>{var u;return(u=h(t.buttonRef))==null?void 0:u.focus({preventScroll:!0})})):(l.preventDefault(),t.openListbox(),De(()=>{var u;return(u=h(t.optionsRef))==null?void 0:u.focus({preventScroll:!0})})))}let v=me(y(()=>({as:e.as,type:r.type})),t.buttonRef);return()=>{var l,u;let W={open:t.listboxState.value===0,disabled:t.disabled.value,value:t.value.value},{...R}=e,Y={ref:t.buttonRef,id:p,type:v.value,"aria-haspopup":"listbox","aria-controls":(l=h(t.optionsRef))==null?void 0:l.id,"aria-expanded":t.listboxState.value===0,"aria-labelledby":t.labelRef.value?[(u=h(t.labelRef))==null?void 0:u.id,p].join(" "):void 0,disabled:t.disabled.value===!0?!0:void 0,onKeydown:g,onKeyup:o,onClick:m};return M({ourProps:Y,theirProps:R,slot:W,attrs:r,slots:n,name:"ListboxButton"})}}}),Pe=I({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:r,slots:n,expose:c}){var i;let p=(i=e.id)!=null?i:`headlessui-listbox-options-${K()}`,t=F("ListboxOptions"),g=x(null);c({el:t.optionsRef,$el:t.optionsRef});function o(l){switch(g.value&&clearTimeout(g.value),l.key){case b.Space:if(t.searchQuery.value!=="")return l.preventDefault(),l.stopPropagation(),t.search(l.key);case b.Enter:if(l.preventDefault(),l.stopPropagation(),t.activeOptionIndex.value!==null){let u=t.options.value[t.activeOptionIndex.value];t.select(u.dataRef.value)}t.mode.value===0&&(t.closeListbox(),k(()=>{var u;return(u=h(t.buttonRef))==null?void 0:u.focus({preventScroll:!0})}));break;case C(t.orientation.value,{vertical:b.ArrowDown,horizontal:b.ArrowRight}):return l.preventDefault(),l.stopPropagation(),t.goToOption(S.Next);case C(t.orientation.value,{vertical:b.ArrowUp,horizontal:b.ArrowLeft}):return l.preventDefault(),l.stopPropagation(),t.goToOption(S.Previous);case b.Home:case b.PageUp:return l.preventDefault(),l.stopPropagation(),t.goToOption(S.First);case b.End:case b.PageDown:return l.preventDefault(),l.stopPropagation(),t.goToOption(S.Last);case b.Escape:l.preventDefault(),l.stopPropagation(),t.closeListbox(),k(()=>{var u;return(u=h(t.buttonRef))==null?void 0:u.focus({preventScroll:!0})});break;case b.Tab:l.preventDefault(),l.stopPropagation();break;default:l.key.length===1&&(t.search(l.key),g.value=setTimeout(()=>t.clearSearch(),350));break}}let m=fe(),v=y(()=>m!==null?(m.value&G.Open)===G.Open:t.listboxState.value===0);return()=>{var l,u;let W={open:t.listboxState.value===0},{...R}=e,Y={"aria-activedescendant":t.activeOptionIndex.value===null||(l=t.options.value[t.activeOptionIndex.value])==null?void 0:l.id,"aria-multiselectable":t.mode.value===1?!0:void 0,"aria-labelledby":(u=h(t.buttonRef))==null?void 0:u.id,"aria-orientation":t.orientation.value,id:p,onKeydown:o,role:"listbox",tabIndex:0,ref:t.optionsRef};return M({ourProps:Y,theirProps:R,slot:W,attrs:r,slots:n,features:J.RenderStrategy|J.Static,visible:v.value,name:"ListboxOptions"})}}}),Ae=I({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:r,attrs:n,expose:c}){var i;let p=(i=e.id)!=null?i:`headlessui-listbox-option-${K()}`,t=F("ListboxOption"),g=x(null);c({el:g,$el:g});let o=y(()=>t.activeOptionIndex.value!==null?t.options.value[t.activeOptionIndex.value].id===p:!1),m=y(()=>C(t.mode.value,{0:()=>t.compare(H(t.value.value),H(e.value)),1:()=>H(t.value.value).some(a=>t.compare(H(a),H(e.value)))})),v=y(()=>C(t.mode.value,{1:()=>{var a;let s=H(t.value.value);return((a=t.options.value.find(d=>s.some(f=>t.compare(H(f),H(d.dataRef.value)))))==null?void 0:a.id)===p},0:()=>m.value})),l=ge(g),u=y(()=>({disabled:e.disabled,value:e.value,get textValue(){return l()},domRef:g}));U(()=>t.registerOption(p,u)),re(()=>t.unregisterOption(p)),U(()=>{Z([t.listboxState,m],()=>{t.listboxState.value===0&&m.value&&C(t.mode.value,{1:()=>{v.value&&t.goToOption(S.Specific,p)},0:()=>{t.goToOption(S.Specific,p)}})},{immediate:!0})}),ne(()=>{t.listboxState.value===0&&o.value&&t.activationTrigger.value!==0&&k(()=>{var a,s;return(s=(a=h(g))==null?void 0:a.scrollIntoView)==null?void 0:s.call(a,{block:"nearest"})})});function W(a){if(e.disabled)return a.preventDefault();t.select(e.value),t.mode.value===0&&(t.closeListbox(),k(()=>{var s;return(s=h(t.buttonRef))==null?void 0:s.focus({preventScroll:!0})}))}function R(){if(e.disabled)return t.goToOption(S.Nothing);t.goToOption(S.Specific,p)}let Y=ye();function L(a){Y.update(a)}function w(a){Y.wasMoved(a)&&(e.disabled||o.value||t.goToOption(S.Specific,p,0))}function D(a){Y.wasMoved(a)&&(e.disabled||o.value&&t.goToOption(S.Nothing))}return()=>{let{disabled:a}=e,s={active:o.value,selected:m.value,disabled:a},{value:d,disabled:f,..._}=e,E={id:p,ref:g,role:"option",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,"aria-selected":m.value,disabled:void 0,onClick:W,onFocus:R,onPointerenter:L,onMouseenter:L,onPointermove:w,onMousemove:w,onPointerleave:D,onMouseleave:D};return M({ourProps:E,theirProps:_,slot:s,attrs:n,slots:r,name:"ListboxOption"})}}});function Te(e,r){return O(),N("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[V("path",{"fill-rule":"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z","clip-rule":"evenodd"})])}function Ve(e,r){return O(),N("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[V("path",{"fill-rule":"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z","clip-rule":"evenodd"})])}const Ie={class:"relative"},Be=["for"],Me={key:0,class:"text-error ml-1"},$e={class:"relative"},Ge={key:0,class:"block truncate"},Fe={key:1,class:"block truncate text-gray-400"},je={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},Ue={key:0,class:"absolute inset-y-0 left-0 flex items-center pl-3 text-primary-600"},Ke={key:1,class:"mt-2 text-sm text-error"},ze={key:2,class:"mt-2 text-sm text-gray"},Qe=I({__name:"Select",props:{modelValue:{},options:{},label:{},placeholder:{default:"選択してください"},error:{},hint:{},required:{type:Boolean},disabled:{type:Boolean},id:{default:()=>`select-${Math.random().toString(36).substr(2,9)}`}},emits:["update:modelValue"],setup(e,{emit:r}){const n=e,c=r,i=y({get:()=>n.modelValue??null,set:o=>c("update:modelValue",o)}),p=o=>typeof o=="string"?o:o.value,t=o=>typeof o=="string"?o:o.value,g=o=>{if(o==null)return"";const m=n.options.find(v=>p(v)===o);return typeof m=="string"?m:m?.label||String(o)};return(o,m)=>(O(),N("div",Ie,[o.label?(O(),N("label",{key:0,for:o.id,class:"block text-sm font-medium text-secondary mb-2"},[de(A(o.label)+" ",1),o.required?(O(),N("span",Me,"*")):$("",!0)],8,Be)):$("",!0),P(T(Ee),{modelValue:i.value,"onUpdate:modelValue":m[0]||(m[0]=v=>i.value=v),disabled:o.disabled},{default:B(()=>[V("div",$e,[P(T(ke),{id:o.id,class:j(["relative w-full cursor-default rounded-token-md border py-2 pl-3 pr-10 text-left focus-ring","bg-white shadow-token-sm",o.error?"border-error":"border-gray",o.disabled?"bg-gray-50 text-gray-400 cursor-not-allowed":"hover:border-primary"])},{default:B(()=>[i.value?(O(),N("span",Ge,A(g(i.value)),1)):(O(),N("span",Fe,A(o.placeholder),1)),V("span",je,[P(T(Ve),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1},8,["id","class"]),P(pe,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:B(()=>[P(T(Pe),{class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-token-md bg-white py-1 shadow-token-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:B(()=>[(O(!0),N(X,null,ce(o.options,v=>(O(),ve(T(Ae),{key:t(v),value:p(v),as:"template"},{default:B(({active:l,selected:u})=>[V("li",{class:j([l?"bg-primary-light text-primary-900":"text-gray-900","relative cursor-default select-none py-2 pl-10 pr-4"])},[V("span",{class:j([u?"font-medium":"font-normal","block truncate"])},A(g(p(v))),3),u?(O(),N("span",Ue,[P(T(Te),{class:"h-5 w-5","aria-hidden":"true"})])):$("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue","disabled"]),o.error?(O(),N("p",Ke,A(o.error),1)):o.hint?(O(),N("p",ze,A(o.hint),1)):$("",!0)]))}}),Xe=Object.assign(Qe,{__name:"UiSelect"}),z=[{code:"WHY_REQ_001",displayName:"期待値合意不足",description:"成功条件/品質基準が共有されていない",group:"要件・期待の不一致"},{code:"WHY_REQ_002",displayName:"曖昧・矛盾した要件",description:"用語・優先度の解釈ズレ",group:"要件・期待の不一致"},{code:"WHY_REQ_003",displayName:"スコープ境界不明",description:"範囲の線引きが無い/動く",group:"要件・期待の不一致"},{code:"WHY_REQ_004",displayName:"受け入れ基準欠落",description:"検証可能なACが無い",group:"要件・期待の不一致"},{code:"WHY_REQ_005",displayName:"非機能要件の軽視",description:"SLO/セキュリティ/コスト未定義",group:"要件・期待の不一致"},{code:"WHY_JDG_001",displayName:"トレードオフ評価不足",description:"可用性vsコスト等の比較抜け",group:"判断基準・意思決定の欠落/誤り"},{code:"WHY_JDG_002",displayName:"データ不在の判断",description:"計測なしの感覚判断",group:"判断基準・意思決定の欠落/誤り"},{code:"WHY_JDG_003",displayName:"アンカー/確証バイアス",description:"最初の案に固執",group:"判断基準・意思決定の欠落/誤り"},{code:"WHY_JDG_004",displayName:"エスカレーション遅延",description:"決める人に届かない",group:"判断基準・意思決定の欠落/誤り"},{code:"WHY_SKL_001",displayName:"サービス仕様の理解不足",description:"Cognitoのサインイン識別子は後から変えられない等",group:"知識/スキル不足・誤適用"},{code:"WHY_SKL_002",displayName:"ベストプラクティス未習得",description:"DynamoDBパーティション設計等",group:"知識/スキル不足・誤適用"},{code:"WHY_SKL_003",displayName:"暗黙仕様の読み落とし",description:"整合性/再試行/レート制限",group:"知識/スキル不足・誤適用"},{code:"WHY_SKL_004",displayName:"ライブラリ更新追随ミス",description:"Breaking change見落とし",group:"知識/スキル不足・誤適用"},{code:"WHY_MDL_001",displayName:"一貫性モデルの誤認",description:"最終的整合性を即時と想定",group:"メンタルモデル不一致・仕様読み違い"},{code:"WHY_MDL_002",displayName:"認証フローの勘違い",description:"Function URLはJWT自動検証しない等",group:"メンタルモデル不一致・仕様読み違い"},{code:"WHY_MDL_003",displayName:"データ形式の前提ズレ",description:"JSON/BOM/エンコーディング誤解",group:"メンタルモデル不一致・仕様読み違い"},{code:"WHY_MDL_004",displayName:"設計書の読み方差異",description:"図と文の齟齬、用語解釈差",group:"メンタルモデル不一致・仕様読み違い"},{code:"WHY_TME_001",displayName:"デッドライン優先で検証削減",description:"デッドライン優先で検証削減",group:"時間圧力・優先順位錯誤"},{code:"WHY_TME_002",displayName:"緊急対応で手順省略",description:"緊急対応で手順省略",group:"時間圧力・優先順位錯誤"},{code:"WHY_TME_003",displayName:"重要度/緊急度マトリクスの誤用",description:"緊急だが重要でない作業に偏る",group:"時間圧力・優先順位錯誤"},{code:"WHY_PRCS_001",displayName:"SOP未遵守",description:"レビュー/承認を飛ばす",group:"手順逸脱・確認不足"},{code:"WHY_PRCS_002",displayName:"チェックリスト未使用",description:"チェックリスト未使用",group:"手順逸脱・確認不足"},{code:"WHY_PRCS_003",displayName:"単独作業での見逃し",description:"4-eyes未実施",group:"手順逸脱・確認不足"},{code:"WHY_PRCS_004",displayName:"作業記録なし",description:"再現不能",group:"手順逸脱・確認不足"},{code:"WHY_COM_001",displayName:"非同期連絡のみで重要事項が埋没",description:"Slack既読スルー",group:"コミュニケーション/引き継ぎ不備"},{code:"WHY_COM_002",displayName:"ハンドオフ不明確",description:"担当/当番の空白",group:"コミュニケーション/引き継ぎ不備"},{code:"WHY_COM_003",displayName:"用語定義共有不足",description:"略語/顧客言語の混在",group:"コミュニケーション/引き継ぎ不備"},{code:"WHY_COM_004",displayName:"決定事項の記録欠落",description:"議事録/Issue更新なし",group:"コミュニケーション/引き継ぎ不備"},{code:"WHY_REV_001",displayName:"コード/設計レビュー省略",description:"コード/設計レビュー省略",group:"レビュー/検証不足"},{code:"WHY_REV_002",displayName:"仕様テスト/受入テスト不足",description:"仕様テスト/受入テスト不足",group:"レビュー/検証不足"},{code:"WHY_REV_003",displayName:"性能/負荷・可用性検証不足",description:"性能/負荷・可用性検証不足",group:"レビュー/検証不足"},{code:"WHY_REV_004",displayName:"ステージング非対称",description:"本番と設定/データが乖離",group:"レビュー/検証不足"},{code:"WHY_DES_001",displayName:"キー/インデックス戦略誤り",description:"DynamoDBホットパーティション",group:"設計原則・トレードオフの誤認"},{code:"WHY_DES_002",displayName:"APIコントラクト凍結前の変更管理不備",description:"APIコントラクト凍結前の変更管理不備",group:"設計原則・トレードオフの誤認"},{code:"WHY_DES_003",displayName:"セキュリティ境界設計不足",description:"最小権限/信頼境界",group:"設計原則・トレードオフの誤認"},{code:"WHY_DES_004",displayName:"コストを無視した構成",description:"常時オン/過剰サイズ",group:"設計原則・トレードオフの誤認"},{code:"WHY_CFG_001",displayName:"環境変数/シークレットの誤設定",description:"環境変数/シークレットの誤設定",group:"設定/運用基準未整備・逸脱"},{code:"WHY_CFG_002",displayName:"CORS/プリフライト未対応",description:"CORS/プリフライト未対応",group:"設定/運用基準未整備・逸脱"},{code:"WHY_CFG_003",displayName:"DNS/証明書/鍵ローテの運用基準なし",description:"DNS/証明書/鍵ローテの運用基準なし",group:"設定/運用基準未整備・逸脱"},{code:"WHY_CFG_004",displayName:"機能フラグの切替手順未整備",description:"機能フラグの切替手順未整備",group:"設定/運用基準未整備・逸脱"},{code:"WHY_AUT_001",displayName:"定型作業が人手",description:"デプロイ/移行/ロールバック",group:"自動化不足・手作業依存"},{code:"WHY_AUT_002",displayName:"IaC不足",description:"クリック作業の再現不能",group:"自動化不足・手作業依存"},{code:"WHY_AUT_003",displayName:"フォールバック/リトライ自動化なし",description:"Bedrock失敗時のスキップ保存未実装",group:"自動化不足・手作業依存"},{code:"WHY_OBS_001",displayName:"ログ/メトリクス設計不在",description:"LambdaにBasicExecutionRoleがない/RAW_EVENTなし",group:"観測性/フィードバック不足"},{code:"WHY_OBS_002",displayName:"アラート閾値/通知ルール不適",description:"アラート閾値/通知ルール不適",group:"観測性/フィードバック不足"},{code:"WHY_OBS_003",displayName:"トレーシング未導入/低サンプリング",description:"トレーシング未導入/低サンプリング",group:"観測性/フィードバック不足"},{code:"WHY_OBS_004",displayName:"ログ保持期間/コストの見積もり不足",description:"ログ保持期間/コストの見積もり不足",group:"観測性/フィードバック不足"},{code:"WHY_SEC_001",displayName:"過剰権限",description:"Action:*/AdministratorAccess常用",group:"セキュリティ/機密・法令認知不足"},{code:"WHY_SEC_002",displayName:"機密情報の露出",description:"ログ/Git/S3",group:"セキュリティ/機密・法令認知不足"},{code:"WHY_SEC_003",displayName:"PIIをテストデータで使用",description:"PIIをテストデータで使用",group:"セキュリティ/機密・法令認知不足"},{code:"WHY_SEC_004",displayName:"監査証跡不足",description:"監査証跡不足",group:"セキュリティ/機密・法令認知不足"},{code:"WHY_USR_001",displayName:"エラーメッセージが不明瞭",description:'{"Message":null}のような汎化',group:"運用性/ユーザビリティの軽視"},{code:"WHY_USR_002",displayName:"再試行手順/自己回復導線なし",description:"再試行手順/自己回復導線なし",group:"運用性/ユーザビリティの軽視"},{code:"WHY_USR_003",displayName:"操作負荷が高い",description:"多段クリック/確認過多",group:"運用性/ユーザビリティの軽視"},{code:"WHY_COST_001",displayName:"予算/アラート未設定",description:"Budgets/Anomaly未使用",group:"コスト認知/FinOps不備"},{code:"WHY_COST_002",displayName:"転送料・クロスリージョン費の見落とし",description:"転送料・クロスリージョン費の見落とし",group:"コスト認知/FinOps不備"},{code:"WHY_COST_003",displayName:"過剰プロビジョニング",description:"常時オン/最大サイズ固定",group:"コスト認知/FinOps不備"},{code:"WHY_COST_004",displayName:"実験の後片付け忘れ",description:"ゾンビリソース",group:"コスト認知/FinOps不備"},{code:"WHY_DEP_001",displayName:"外部API仕様変更の未追随",description:"外部API仕様変更の未追随",group:"依存関係/外部サービス前提の崩壊"},{code:"WHY_DEP_002",displayName:"レート制限/スロットリング対策不足",description:"レート制限/スロットリング対策不足",group:"依存関係/外部サービス前提の崩壊"},{code:"WHY_DEP_003",displayName:"SDKメジャーアップグレード対応漏れ",description:"SDKメジャーアップグレード対応漏れ",group:"依存関係/外部サービス前提の崩壊"},{code:"WHY_CHG_001",displayName:"マイグレーション順序誤り",description:"非互換スキーマ",group:"変更管理/リリース管理不備"},{code:"WHY_CHG_002",displayName:"ロールバック手段不備",description:"ロールバック手段不備",group:"変更管理/リリース管理不備"},{code:"WHY_CHG_003",displayName:"承認ゲート未設定",description:"本番直行",group:"変更管理/リリース管理不備"},{code:"WHY_ORG_001",displayName:"RACI不明確",description:"誰が決める/やる/承認するか",group:"組織/責任分界の曖昧さ"},{code:"WHY_ORG_002",displayName:"当番/オンコール体制不全",description:"当番/オンコール体制不全",group:"組織/責任分界の曖昧さ"},{code:"WHY_ORG_003",displayName:"サポートプラン/連絡経路不整備",description:"サポートプラン/連絡経路不整備",group:"組織/責任分界の曖昧さ"},{code:"LEGACY_001",displayName:"情報漏洩・誤送信",description:"従来のカテゴリ（後方互換性）",group:"その他"},{code:"LEGACY_002",displayName:"システム障害",description:"従来のカテゴリ（後方互換性）",group:"その他"},{code:"LEGACY_003",displayName:"作業ミス",description:"従来のカテゴリ（後方互換性）",group:"その他"},{code:"LEGACY_004",displayName:"コミュニケーション",description:"従来のカテゴリ（後方互換性）",group:"その他"},{code:"LEGACY_005",displayName:"その他",description:"従来のカテゴリ（後方互換性）",group:"その他"}],et=()=>{const e=[{value:"",label:"すべてのカテゴリ"}],r=z.reduce((c,i)=>(c[i.group]||(c[i.group]=[]),c[i.group].push(i),c),{});return["要件・期待の不一致","判断基準・意思決定の欠落/誤り","知識/スキル不足・誤適用","メンタルモデル不一致・仕様読み違い","時間圧力・優先順位錯誤","手順逸脱・確認不足","コミュニケーション/引き継ぎ不備","レビュー/検証不足","設計原則・トレードオフの誤認","設定/運用基準未整備・逸脱","自動化不足・手作業依存","観測性/フィードバック不足","セキュリティ/機密・法令認知不足","運用性/ユーザビリティの軽視","コスト認知/FinOps不備","依存関係/外部サービス前提の崩壊","変更管理/リリース管理不備","組織/責任分界の曖昧さ","その他"].forEach(c=>{const i=r[c];i&&i.forEach(p=>{e.push({value:p.code,label:p.displayName})})}),e},tt=e=>z.find(n=>n.code===e)?.displayName||e,qe=e=>z.find(n=>n.code===e)?.group||"その他",at=e=>{const r=qe(e);return{"要件・期待の不一致":"error","判断基準・意思決定の欠落/誤り":"warning","知識/スキル不足・誤適用":"primary","メンタルモデル不一致・仕様読み違い":"secondary","時間圧力・優先順位錯誤":"warning","手順逸脱・確認不足":"error","コミュニケーション/引き継ぎ不備":"secondary","レビュー/検証不足":"warning","設計原則・トレードオフの誤認":"primary","設定/運用基準未整備・逸脱":"error","自動化不足・手作業依存":"warning","観測性/フィードバック不足":"primary","セキュリティ/機密・法令認知不足":"error","運用性/ユーザビリティの軽視":"secondary","コスト認知/FinOps不備":"warning","依存関係/外部サービス前提の崩壊":"error","変更管理/リリース管理不備":"warning","組織/責任分界の曖昧さ":"secondary",その他:"default"}[r]||"default"};export{Xe as S,at as a,tt as b,We as f,et as g,ee as u};
