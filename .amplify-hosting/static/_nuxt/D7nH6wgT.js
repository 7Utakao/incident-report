import{C as y}from"./CtuzsKz4.js";import{C as h}from"./f9QzHCjA.js";import{B as _}from"./0OkAVhSL.js";import{B as I}from"./DhJe92nY.js";import{S as x}from"./CA6Ea30x.js";import{e as w,r as d,f as B,g as N,c,o as u,a as t,t as p,h as L,i as g,n as T,u as O,b as a,w as i,F as k,j as C,d as m}from"./BBGXoVXL.js";import{_ as F}from"./DlAUqK2U.js";const R=window.setInterval,z={class:"card flex items-center gap-4 p-6 bg-primary/15 border-primary/25"},P={class:"text-primaryDeep font-medium"},V=w({__name:"MascotBanner",setup(f){const l=d(0);let n=null;return B(()=>{n=R(()=>{l.value=(l.value+1)%y.mascotLines.length},3e3)}),N(()=>{n&&clearInterval(n)}),(v,o)=>(u(),c("div",z,[o[0]||(o[0]=t("div",{class:"w-12 h-12 rounded-full bg-accent1/60 grid place-items-center text-2xl"},"😊",-1)),t("p",P,p(L(y).mascotLines[l.value]),1)]))}}),j=Object.assign(V,{__name:"MascotBanner"}),A={class:"text-center"},U={class:"mb-4"},E={class:"text-2xl font-bold text-ink mb-1"},H={class:"w-full bg-primary/20 rounded-full h-3 mb-2"},Y={class:"text-xs text-ink/60"},q=w({__name:"LevelBar",props:{level:{},progress:{},reportsToNext:{default:0}},setup(f){const l=f,n=["ひよっこ","たねまき","見習い","研究者","冒険者","達人","師範","先導者","伝道師"],v=g(()=>{const o=Math.min(l.level-1,n.length-1);return n[Math.max(0,o)]});return(o,$)=>(u(),c("div",A,[t("div",U,[t("div",E,"Lv "+p(o.level)+" "+p(v.value),1)]),t("div",H,[t("div",{class:"bg-primaryDeep h-3 rounded-full transition-all duration-300",style:T({width:`${o.progress}%`})},null,4)]),t("div",Y,"次のレベルまで "+p(o.reportsToNext)+" 件",1)]))}}),G=Object.assign(q,{__name:"LevelsLevelBar"}),J={class:"min-h-screen bg-background"},K={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Q={class:"mb-8"},W={class:"text-ink/60"},X={class:"mb-8"},Z={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},tt={class:"space-y-6"},et={class:"py-6"},st={class:"space-y-6"},rt={key:0,class:"space-y-4"},at={class:"space-y-2"},ot={key:1,class:"text-center py-8 text-ink/60"},nt={key:2},lt={class:"space-y-0"},it=["onClick"],dt={class:"truncate"},ct={class:"font-medium line-clamp-1 text-sm"},ut={class:"text-sm opacity-80 line-clamp-2 mt-1"},vt={class:"text-center"},pt={class:"mt-8"},mt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},_t=w({__name:"index",setup(f){const l=d(!0),n=d([]);d(3),d(12),d(47),d(89);const v=d(4),o=d(47);g(()=>{const s=["新人","初級者","中級者","上級者","エキスパート","マスター"];return s[Math.min(v.value-1,s.length-1)]||"マスター"});const $=g(()=>{const s=(v.value-1)*10,e=v.value*10,r=o.value-s,b=e-s;return Math.min(r/b*100,100)}),S=g(()=>{const s=v.value*10;return Math.max(s-o.value,0)}),D=s=>({"情報漏洩・誤送信":"error",システム障害:"warning",作業ミス:"primary",コミュニケーション:"secondary",その他:"default"})[s]||"default",M=async()=>{try{l.value=!0,await new Promise(s=>setTimeout(s,1e3)),n.value=[{id:"1",title:"機密資料の誤送信インシデント",summary:"重要な会議資料を間違った取引先に送信してしまいました。",category:"情報漏洩・誤送信",status:"完了",createdAt:new Date(Date.now()-7200*1e3).toISOString()},{id:"2",title:"データベース接続エラー",summary:"朝の業務開始時にデータベースに接続できない問題が発生しました。",category:"システム障害",status:"実施中",createdAt:new Date(Date.now()-300*60*1e3).toISOString()},{id:"3",title:"顧客情報の入力ミス",summary:"顧客の住所を間違って入力し、配送に遅延が生じました。",category:"作業ミス",status:"検討中",createdAt:new Date(Date.now()-1440*60*1e3).toISOString()}]}finally{l.value=!1}};return B(()=>{M()}),O({title:"ホーム - 報告システム"}),(s,e)=>(u(),c("div",J,[t("div",K,[t("div",Q,[t("p",W,p(L(y).homeSubtitle),1)]),t("div",X,[a(j)]),t("div",Z,[t("div",tt,[a(h,{title:"レベル状況"},{default:i(()=>[t("div",et,[a(G,{level:v.value,progress:$.value,"reports-to-next":S.value},null,8,["level","progress","reports-to-next"])])]),_:1})]),t("div",st,[a(h,{title:"最近の報告"},{footer:i(()=>[t("div",vt,[a(_,{variant:"ghost",onClick:e[0]||(e[0]=r=>s.$router.push("/reports"))},{default:i(()=>e[4]||(e[4]=[m(" すべての報告を見る ",-1)])),_:1,__:[4]})])]),default:i(()=>[l.value?(u(),c("div",rt,[(u(),c(k,null,C(3,r=>t("div",{key:r,class:"grid grid-cols-[120px_1fr] gap-3"},[a(x,{variant:"rectangular",width:"100",height:"24"}),t("div",at,[a(x,{variant:"text",width:"80%"}),a(x,{variant:"text",width:"60%"})])])),64))])):n.value.length===0?(u(),c("div",ot," まだ報告がありません ")):(u(),c("div",nt,[t("ul",lt,[(u(!0),c(k,null,C(n.value,r=>(u(),c("li",{key:r.id,class:"grid grid-cols-[120px_1fr] gap-3 p-4 hover:bg-primary/10 cursor-pointer transition-colors",onClick:b=>s.$router.push(`/reports/${r.id}`)},[t("div",dt,[a(I,{variant:D(r.category),class:"text-xs"},{default:i(()=>[m(p(r.category),1)]),_:2},1032,["variant"])]),t("div",null,[t("div",ct,p(r.title),1),t("div",ut,p(r.summary),1)])],8,it))),128))])]))]),_:1})])]),t("div",pt,[a(h,{title:"クイックアクション"},{default:i(()=>[t("div",mt,[a(_,{variant:"primary",size:"lg",class:"w-full",onClick:e[1]||(e[1]=r=>s.$router.push("/reports/new"))},{default:i(()=>e[5]||(e[5]=[m(" 新しい報告を作成 ",-1)])),_:1,__:[5]}),a(_,{variant:"secondary",size:"md",class:"w-full",onClick:e[2]||(e[2]=r=>s.$router.push("/reports"))},{default:i(()=>e[6]||(e[6]=[m(" 報告一覧を見る ",-1)])),_:1,__:[6]}),a(_,{variant:"ghost",size:"md",class:"w-full",onClick:e[3]||(e[3]=r=>s.$router.push("/dashboard"))},{default:i(()=>e[7]||(e[7]=[m(" ダッシュボード ",-1)])),_:1,__:[7]})])]),_:1})])])]))}}),bt=F(_t,[["__scopeId","data-v-ca909138"]]);export{bt as default};
